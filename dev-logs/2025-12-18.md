# Dev Log: 2025-12-18

> Watch the Video Here: [https://youtu.be/1Yz2ZehiyCs](https://youtu.be/1Yz2ZehiyCs)

## Agenda

- [x] Modify string format for `Card` and `Hand`
- [x] Create playloop to correctly handle game exit
- [] Refactor hand module if needed
- [x] Create functional betting loop

## Achievements

### `play_again_loop()` Helper Function

- In my Java version of blackjack, I used a `while` loop that ran as long as `playAgain == true`. This led to many frustrations when trying to handle edge cases like blackjacks and busts.
- I decided that I needed a different philosophy when creating this Rust rendering. Instead of using a play again loop, I am using a `loop { }` and a `play_again_loop()` helper function
- When I want to prompt the user to play again, I will call the `play_again_loop()` function, which will prompt the user and return a `bool` with their decision. If decision is `n`, `'game_session` loop will break, and program will end. If decision is `y`, loop will `continue`.

## Struggles

### Betting Loop Flow

- To start, I could not figure out how to read user input.
- After reading up on rust's method, I read user input and attempted to filter out bad bets
- I initially tried to put that logic inside the `match` function, which I learned was a bad idea.
- The `match` function is not like when I handled bad bets in Java using `try`. Java lets you put flow control logic like `if` statements inside. When tried to do the same with `match`, my code kept redlining. I learned that match does not immediately return a parsed int inside the function, which sounds obvious.
- I handles the errors by separating my bet filter logic and my bet parsing logic. I first return the result of the user input (or `continue` the loop if it is not a number), then check to see if that result is valid in terms of the game rules

### Reading User Input in Rust

- Originally, after I fixed the parsing logic, my program did not like the user inputs no matter what the input was.
- I learned that `read_line()` does not replace whichever String it is outputting to, but rather appends it.
- With this in mind, I flushed the String var and everything worked perfect.
